/**

   ~ Patchwork Framework ~

           _,-,-.
        ,-: |.'-:|..-.
   _..-:| | `-`. \.--'
 <...--:'-|_|_|;  \
        \   /     /
         :      ,'
         |      |
         |      |
         |      |
         |      |  Je suis Charlie.

*/

// ---------

/**

  Configuration below is encouraged if you wish to tweak the Patchwork framework, and build
  a custom CSS file from your modifications.

*/

// Maximum width of the container.
$max-width: 960px;

// Upper limit for the size attributes.
$size-limit: 15;

// Range for the order attributes.
$order-limit: (from: -10, to: 25);

// Breakpoints in pixels for tiny, small, medium and large.
$breakpoints: (none: 0, tiny: 400px, small: 550px, medium: 700px, large: 960px);

// ---------

/**

  Everything below are the internals of the framework and shouldn't really be touched.

*/

.patchwork {
  display: flex;
  max-width: 960px;
  flex-direction: row;
}

*[data-patchwork] {
  flex: 1;
}

@media all and (max-width: map-get($breakpoints, small)) {

  .patchwork {
    flex-direction: column;
  }

}

@mixin column-styles($label) {

  @for $index from 0 through $size-limit {

    *[data-patchwork*="#{$label}-size: #{$index}"] {
      flex: $index;
    }

  }

  @for $index from map-get($order-limit, from) through map-get($order-limit, to) {

    *[data-patchwork*="#{$label}-order: #{$index}"] {
      order: $index
    }

  }

}

@mixin columns {

  $labels-list: tiny small medium large;
  $previous-label: none;

  @each $label in $labels-list {

    @if $label == large {

      @media all and (min-width: map-get($breakpoints, $previous-label)) {
        @include column-styles($label);
      }

    } @else {

      @media all and (min-width: map-get($breakpoints, $previous-label)) and (max-width: map-get($breakpoints, $label)) {
        @include column-styles($label);
      }

    }

    $previous-label: $label;

  }

}

@include columns;